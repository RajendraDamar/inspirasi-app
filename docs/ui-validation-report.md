## UI Validation Report — automated capture (partial)

Date: 2025-09-26

Summary:
- I started the Expo dev server in a detached background job (Metro running and serving web bundles).
- I used the workspace Playwright MCP browser to navigate the running app at http://localhost:8081 and captured page snapshots and console logs.
- The automated browser session shows the app served at Metro's URL (http://localhost:8081). The app responded and various screens were reachable, but several runtime network errors were present (BMKG 404/500 responses and Firestore emulator connection refused). Firebase messaging was skipped in this bundling environment (logged by the app).

What I captured here (ephemeral):
- Home (served from Metro) — snapshot shows "Today's Forecast" hero and "Latest Reports" area. Bottom navigation has Home, Forecasts, Library.
- Forecasts — snapshot shows forecast tabs: Weather, Wind, Waves, Currents, Tides and a "Failed to load forecasts. Pull to refresh." message (network errors to BMKG observed).
- Library — snapshot shows Saved Locations, Add demo location, and Alerts History (no saved locations / no alerts yet).
- Settings — snapshot attempted; app shows "Loading settings..." in this environment.

Console and Errors (key excerpts):
- "Skipping Firebase messaging initialization: no browser service worker support detected" (this is expected during bundling in this environment).
- "Firebase: connected to local emulators (auth:9099, firestore:8200, storage:9199)"
- Multiple network errors contacting BMKG API endpoints (404 / 500) and Firestore emulator connection refused (net::ERR_CONNECTION_REFUSED). These caused the UI to render empty/fallback states on some screens.

Why full screenshot files are not present in the repo:
- The automated browser captured screenshots in the session, however this environment prevented installing Playwright via npm (package install failed with a registry/target error for dev dependencies), and the MCP browser tool's binary screenshots are ephemeral in the runtime and cannot be written to the repository as image files from this session.

Immediate next steps you can run locally to reproduce and produce PNG files (PowerShell):

1) Start background web server (detached) and send logs to server.log:

```powershell
Start-Job -ScriptBlock { npm run web *> server.log }
Start-Sleep -Seconds 15
```

2) Install Playwright and its browsers (if you don't already have it):

```powershell
npm install -D playwright@^1.40.0
npx playwright install --with-deps
# Troubleshooting npm install failures:
# npm install -D playwright@^1.40.0 --legacy-peer-deps
# npm cache clean --force
```

3) Run the capture script (this will create PNGs in `docs/ui-screenshots/` if the script is configured that way):

```powershell
npm run capture:ui
# or run the script directly with node
node .github/playwright/capture-ui-screens.js
```

4) If you prefer to use Playwright directly (example sequence):

```powershell
# Example script:
# const { chromium } = require('playwright');
# (async () => {
#   const browser = await chromium.launch();
#   const page = await browser.newPage();
#   await page.goto('http://localhost:8081');
#   await page.screenshot({ path: 'docs/ui-screenshots/home-screen-hero-weather.png', fullPage: true });
#   await page.click('text=Forecasts');
#   await page.screenshot({ path: 'docs/ui-screenshots/forecasts-navigation-tabs.png' });
#   await browser.close();
# })();
```

Notes and recommendations:
- The app in this dev session served from Metro on port 8081 (not 19006). Use http://localhost:8081 when capturing from this environment.
- Several external API errors (BMKG) and Firestore emulator connection failures caused empty/error states on forecast and report UI; fix those network issues (emulators running and BMKG endpoints reachable) before relying on full positive screenshots.
- If you want me to commit produced screenshots, run the capture locally, then either upload the images or push them to the branch and tell me to continue; I can then finalize the report by embedding real PNGs.

---
Report generated by automated capture session in feature/md3-theme-polish.
# UI Validation Report

This report accompanies the UI screenshots captured for Material Design 3 and Google Play Store validation.

## Gallery
Place screenshots in `docs/ui-screenshots/` and reference them below.

### Screenshots
- home-screen-hero-weather.png — Home with BMKG hero
- forecasts-navigation-tabs.png — Forecasts navigation
- library-saved-locations.png — Library saved locations
- settings-md3-sections.png — Settings MD3 sections
- debug-metrics-dashboard.png — Debug metrics view
- wind-forecast-detail.png — Wind forecast
- currents-forecast-detail.png — Currents forecast
- waves-forecast-detail.png — Waves forecast
- weather-forecast-detail.png — Weather forecast
- tides-forecast-detail.png — Tides forecast

## MD3 Compliance Checklist
- Color scheme: Maritime blue primary (#1976D2)
- Elevation/shadows: Card elevations present (1/3/6)
- Corner radius: 12px consistent
- Typography scale: Headline / Body / Label sizes
- Spacing tokens: 8/16/24px
- Touch target sizes: 48x48px minimum

## Play Store Aesthetic Checklist
- Card-based layout and visual hierarchy
- Proper loading skeletons and error states
- Clean bottom navigation and headers

## Notes / Issues
- Add any visual issues found here.
